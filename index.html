<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Juego Scrum - Delantera (Drag & Drop + Fotos + Goles)</title>
  <style>
    :root {
      --ok:#22c55e; --bad:#ef4444; --neutral:#94a3b8;
      --panel:#ffffff; --bg:#f5f7fb; --ink:#111827; --muted:#6b7280; --accent:#2563eb;
    }
    *{box-sizing:border-box}
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; background:var(--bg); margin:0; padding:24px; color:var(--ink); }
    h1{margin:0 0 8px 0; font-size:22px}
    .sub{color:var(--muted); margin-bottom:16px}

    .grid{display:grid; grid-template-columns:1fr 1fr; gap:24px; align-items:start}
    @media (max-width: 880px){ .grid{ grid-template-columns:1fr } }

    .column { background:var(--panel); border:2px dashed var(--neutral); border-radius:16px; padding:14px; min-height:420px; transition:border-color .2s, box-shadow .2s }
    .column h2 { text-align:center; margin:6px 0 8px }
    .hint{ text-align:center; color:var(--muted); font-size:13px; margin-bottom:8px }
    .column.ok{ border-color:var(--ok) }
    .column.bad{ border-color:var(--bad) }
    .dropping{ outline:3px dashed #93c5fd; outline-offset:-6px }

    .list{ display:grid; gap:10px; min-height:320px }

    .player{ background:#fff; border:1px solid #e5e7eb; border-radius:12px; padding:10px; display:grid; grid-template-columns:auto 1fr auto; gap:12px; align-items:center; cursor:grab }
    .player:active{ cursor:grabbing }
    .photo{ width:48px; height:48px; border-radius:10px; object-fit:cover; border:1px solid #e5e7eb }
    .info h3{ margin:0; font-size:15px }
    .meta{ margin-top:2px; font-size:12px; color:var(--muted) }
    .cost{ font-weight:700; color:var(--accent); }
    .remove{ display:inline-grid; place-items:center; width:26px; height:26px; border-radius:8px; background:#fee2e2; color:#991b1b; border:1px solid #fecaca; cursor:pointer }

    .footer{ display:flex; gap:10px; justify-content:center; margin-top:8px; color:#374151; font-size:14px }
    .badge{ background:#f3f4f6; border:1px solid #e5e7eb; padding:6px 10px; border-radius:999px }
  </style>
</head>
<body>
  <h1>âš½ Juego Scrum â€“ ArmÃ¡ tu delantera</h1>
  <div class="sub">ArrastrÃ¡ 3 tarjetas a <b>Mi delantera</b>. Presupuesto: <b id="budgetTop">15</b> puntos. Se evalÃºa el presupuesto desde la 2Âª tarjeta.</div>

  <div class="grid">
    <section>
      <div class="column" id="leftCol" data-col="left">
        <h2>ðŸ“‹ Jugadores (ordenados por costo â†“)</h2>
        <div class="hint">ArrastrÃ¡ hacia la derecha para ficharlos</div>
        <div class="list" id="leftList"></div>
      </div>
    </section>

    <section>
      <div class="column" id="rightCol" data-col="right">
        <h2>ðŸš€ Mi delantera</h2>
        <div class="hint">MÃ¡ximo 3. Si superÃ¡s el presupuesto se marca en rojo.</div>
        <div class="list" id="rightList"></div>
        <div class="footer">
          <span class="badge">Seleccionados: <b id="countSel">0</b>/3</span>
          <span class="badge">Puntos usados: <b id="pointsUsed">0</b>/<b id="budgetFoot">15</b></span>
        </div>
      </div>
    </section>
  </div>

  <script>
    const BUDGET = 15;
    document.getElementById('budgetTop').textContent = BUDGET;
    document.getElementById('budgetFoot').textContent = BUDGET;

    function avatarDataURL(initials){
      const svg = encodeURIComponent(`<?xml version="1.0"?><svg xmlns='http://www.w3.org/2000/svg' width='96' height='96'><defs><linearGradient id='g' x1='0' y1='0' x2='1' y2='1'><stop offset='0%' stop-color='#dbeafe'/><stop offset='100%' stop-color='#bfdbfe'/></linearGradient></defs><rect rx='16' ry='16' width='96' height='96' fill='url(#g)'/><text x='50%' y='58%' text-anchor='middle' font-family='Inter,Arial' font-size='38' font-weight='700' fill='#1e3a8a'>${initials}</text></svg>`);
      return `data:image/svg+xml;charset=utf-8,${svg}`;
    }

    const PLAYERS = [
      { id:'messi',    nombre:'Lionel Messi',          pais:'Argentina', costo:10, goles:110, foto:avatarDataURL('LM') },
      { id:'cr7',      nombre:'Cristiano Ronaldo',     pais:'Portugal',  costo:9,  goles:130, foto:avatarDataURL('CR') },
      { id:'ronaldo',  nombre:'Ronaldo NazÃ¡rio',       pais:'Brasil',    costo:8,  goles:62,  foto:avatarDataURL('RN') },
      { id:'henry',    nombre:'Thierry Henry',         pais:'Francia',   costo:7,  goles:51,  foto:avatarDataURL('TH') },
      { id:'vanbasten',nombre:'Marco van Basten',      pais:'PaÃ­ses Bajos', costo:6, goles:24, foto:avatarDataURL('MV') },
      { id:'drogba',   nombre:'Didier Drogba',         pais:'Costa de Marfil', costo:5, goles:65, foto:avatarDataURL('DD') },
      { id:'eto',      nombre:'Samuel Etoâ€™o',          pais:'CamerÃºn',   costo:4,  goles:56,  foto:avatarDataURL('SE') },
      { id:'chicha',   nombre:'Javier "Chicharito" HernÃ¡ndez', pais:'MÃ©xico', costo:3, goles:52, foto:avatarDataURL('JH') },
      { id:'totti',    nombre:'Francesco Totti',       pais:'Italia',    costo:2,  goles:9,   foto:avatarDataURL('FT') },
      { id:'alexis',   nombre:'Alexis SÃ¡nchez',        pais:'Chile',     costo:4,  goles:51,  foto:avatarDataURL('AS') },
    ];

    const leftCol = document.getElementById('leftCol');
    const rightCol = document.getElementById('rightCol');
    const leftList = document.getElementById('leftList');
    const rightList = document.getElementById('rightList');
    const pointsUsedEl = document.getElementById('pointsUsed');
    const countSelEl = document.getElementById('countSel');

    let selected = [];

    function availablePlayers(){
      return PLAYERS.filter(p => !selected.includes(p.id)).sort((a,b) => b.costo - a.costo);
    }

    function render(){
      leftList.innerHTML = '';
      for(const p of availablePlayers()) leftList.appendChild(card(p, false));
      rightList.innerHTML = '';
      for(const id of selected){ const p = PLAYERS.find(x=>x.id===id); rightList.appendChild(card(p, true)); }
      updateStatus();
    }

    function card(p, withRemove){
      const el = document.createElement('div');
      el.className = 'player';
      el.draggable = true;
      el.dataset.id = p.id;
      el.dataset.costo = p.costo;

      const img = document.createElement('img');
      img.className = 'photo';
      img.src = p.foto;
      img.alt = `${p.nombre}`;

      const info = document.createElement('div');
      info.className = 'info';
      const h3 = document.createElement('h3'); h3.textContent = `${p.nombre} (${p.pais})`;
      const meta = document.createElement('div'); meta.className = 'meta'; meta.innerHTML = `Costo: <span class='cost'>${p.costo}</span> Â· Goles selecciÃ³n: <b>${p.goles}</b>`;
      info.appendChild(h3); info.appendChild(meta);

      el.appendChild(img);
      el.appendChild(info);

      if(withRemove){
        const btn = document.createElement('button');
        btn.className = 'remove'; btn.title = 'Quitar'; btn.textContent = 'Ã—';
        btn.addEventListener('click', ()=> moveToLeft(p.id));
        el.appendChild(btn);
      }

      el.addEventListener('dragstart', e=>{
        e.dataTransfer.setData('text/plain', p.id);
        e.dataTransfer.effectAllowed = 'move';
      });

      return el;
    }

    function allowDropZone(colEl){
      colEl.addEventListener('dragover', e=>{ e.preventDefault(); colEl.classList.add('dropping'); e.dataTransfer.dropEffect='move'; });
      colEl.addEventListener('dragleave', ()=> colEl.classList.remove('dropping'));
      colEl.addEventListener('drop', e=>{
        e.preventDefault(); colEl.classList.remove('dropping');
        const id = e.dataTransfer.getData('text/plain');
        if(!id) return;
        if(colEl.dataset.col==='right') moveToRight(id); else moveToLeft(id);
      });
    }

    allowDropZone(leftCol);
    allowDropZone(rightCol);

    function moveToRight(id){
      if(selected.includes(id) || selected.length>=3) return;
      selected.push(id);
      render();
      if(selected.length>=2) evaluateBudget();
    }

    function moveToLeft(id){
      const idx = selected.indexOf(id);
      if(idx!==-1){ selected.splice(idx,1); render(); }
    }

    function totalPoints(){ return selected.map(id => PLAYERS.find(p=>p.id===id)?.costo||0).reduce((a,b)=>a+b,0); }

    function updateStatus(){
      const total = totalPoints();
      pointsUsedEl.textContent = total;
      countSelEl.textContent = selected.length;
      evaluateBudget();
    }

    function evaluateBudget(){
      rightCol.classList.remove('ok','bad');
      if(selected.length>=2){
        if(totalPoints() <= BUDGET) rightCol.classList.add('ok');
        else rightCol.classList.add('bad');
      }
    }

    render();
  </script>
</body>
</html>

</html>

